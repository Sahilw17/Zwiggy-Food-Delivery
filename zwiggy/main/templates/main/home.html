{% extends 'main/base.html' %}
{% load static %}

{% block content %}

<!-- Hero Section -->
<section class="text-center py-12">
  <h1 class="text-4xl font-extrabold text-orange-600 drop-shadow-sm">Delicious Food, Delivered Fast ðŸš€</h1>
  <p class="text-gray-600 mt-2 text-lg">Explore the best restaurants & trending dishes near you</p>

  <a href="{% url 'restaurants' %}"
     class="btn-accent inline-block mt-5 text-base px-6 py-2 font-semibold shadow-md">
     Browse Restaurants
  </a>
</section>

<!-- Popular Dishes -->
<h2 class="text-2xl font-bold mb-4 text-gray-800">Popular Dishes</h2>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-7">

  {% for item in menu_items %}
  <div class="card bg-white p-4 rounded-xl shadow-md hover:shadow-xl transition cursor-pointer">

    <!-- Image -->
{% if item.image %}
  <img src="{{ item.image.url }}" class="w-full h-44 object-cover rounded-lg" alt="{{ item.name }}">
{% else %}
  <img src="https://source.unsplash.com/600x400/?food,indian" 
       class="w-full h-44 object-cover rounded-lg"
       alt="{{ item.name }}">
{% endif %}

    <!-- Info -->
    <div class="mt-3">

      <h3 class="font-semibold text-lg text-gray-800 leading-tight">{{ item.name }}</h3>

      <p class="text-gray-500 text-sm mt-1">
        {{ item.restaurant.name }}
        â€¢ {{ item.description|truncatechars:50 }}
      </p>

      <div class="flex justify-between items-center mt-4">

        <div class="text-xl font-bold text-gray-800">
          â‚¹{{ item.price }}
        </div>

        <form action="{% url 'add_to_cart' item.id %}" method="post">
          {% csrf_token %}
          <input type="hidden" name="next" value="{% url 'home' %}">

          <button type="submit"
                  class="btn-accent text-sm font-medium px-3 py-1.5 shadow-sm">
            Add to Cart
          </button>
        </form>

      </div>

    </div>

  </div>
  {% empty %}
    <p class="text-gray-500 col-span-3">No items found. Please add dishes from admin.</p>
  {% endfor %}

</div>

{% endblock %}
